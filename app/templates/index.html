<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Breed predictor</title>

    <link href="/static/main.css" rel="stylesheet">


    <!-- bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>

    <!-- page header -->
    <div class="container-sm mt-4">
        <div class="row text-center pt-3">
            <h1>Breed finder for dogs</h1>
            <p class="lead">... and humans</p>
        </div>
    </div>

    <div class="container-sm">


        <div class="row justify-content-md-center mx-2 mt-2 p-2 text-center">
            <div class="col-lg-8 rounded-3 bg-light p-3">

                <div class="row justify-content-center">
                    <img class="img-fluid w-25 p-1" src="/static/doggo.png" alt="">
                </div>

                <h6 class="mt-2">Welcome to the Dog Predictor project!</h6>
                <p>This page will help you identify the breed of any dog image
                    using <mark>artificial intelligence</mark>. <a href="">Learn more.</a></p>
            </div>
        </div>


        <form class="needs-validation mx-2 p-2" method="POST" action="/predict" enctype="multipart/form-data"
            id="file-form" novalidate>

            <div class="row align-items-center">
                <div class="col-md-6 offset-md-3 gy-3 text-center">
                    <label for="formFileLg" class="form-label">Load an image here</label>
                    <input class="form-control shadow-sm" id="formFileLg" type="file" accept="image/*" name="file"
                        aria-describedby="img-input-feedback" required>
                    <div class="invalid-feedback" id="img-input-feedback">Please select an image file</div>
                </div>
            </div>

            <div class="row align-items-center my-3">
                <div class="col-md-6 offset-md-3 gy-3 text-center">
                    <!-- <button type="submit" value="Submit" class="btn btn-primary col-md-6"
                        onclick="loading();">Detect</button> -->
                    <button type="submit" value="Submit" class="btn btn-primary col-md-6">Detect</button>
                </div>
            </div>

        </form>

        <div class="row justify-content-center mx-2 my-5 p-2">
            <div class="col-lg-8 p-3">
                <h6>Keep in mind...</h6>
                <ul>
                    <li>Ensure that there is a <strong>clear view</strong> of the dog (or person) in the image.</li>
                    <li>Consider only <strong>front-facing images</strong> to get the best results.</li>
                    <li>The face must not be covered or cropped.</li>
                    <li>Only the first found face is used for the prediction!</li>
                </ul>
            </div>
        </div>

    </div>



    <div class="container-sm my-3 text-center" id="loading" hidden>

        <!-- <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="25" aria-valuemin="0"
            aria-valuemax="100">
            <div class="progress-bar" style="width: 25%"></div>
        </div> -->

        <div class="spinner-border text-info" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous">
        </script>



    <script type="text/javascript">

        // JavaScript for disabling form submissions if there are invalid fields
        (function () {
            // 'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
                .forEach(function (form) {

                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            console.log("haiii");

                            event.preventDefault()
                            event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                })
        })()

    </script>


</body>

</html>